/* ── 1. CONFIGURATION ── */
:root {
    --bg: #F7F3EE;
    --bg2: #EFE9E0;
    --bg3: #E4DDD3;
    --ink: #1A1815;
    --ink2: #3C3830;
    --ink3: #8A847A;
    --teal: #1F6060;
    --teal-lt: #E8F2F2;
    --white: #ffffff;
    --red: #C0392B;
    
    /* Animation Timing */
    --ease-out-expo: cubic-bezier(0.165, 0.84, 0.44, 1);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
    width: 100%; height: 100vh;
    background: var(--bg);
    color: var(--ink);
    font-family: 'DM Sans', sans-serif;
    overflow: hidden;
    display: flex; flex-direction: column;
}

/* ── 2. TOPBAR ── */
.topbar {
    height: 50px; 
    background: var(--bg);
    border-bottom: 1px solid var(--bg3);
    display: flex; align-items: center; padding: 0 24px;
    z-index: 100; flex-shrink: 0;
}

.logo {
    font-family: 'Cormorant Garamond', serif;
    font-size: 20px; font-weight: 600; color: var(--ink);
    display: flex; align-items: center; gap: 10px;
}

.logo-mark {
    width: 22px; height: 22px; border-radius: 5px;
    background: var(--teal); display: flex; align-items: center; justify-content: center;
}

.logo-mark svg { width: 12px; height: 12px; stroke: #fff; fill: none; }

#instructions {
    margin-left: auto; font-size: 10px; color: var(--ink3);
    letter-spacing: 0.05em; text-transform: uppercase;
}

/* ── 3. LAYOUT STRUCTURE ── */
.layout-wrapper {
    display: flex;
    flex: 1;
    overflow: hidden;
}

.sidebar {
    width: 360px;
    flex-shrink: 0;
    background: var(--bg);
    border-right: 1px solid var(--bg3);
    padding: 30px;
    overflow-y: auto;
    z-index: 10;
}

#canvas-wrapper {
    flex: 1;
    background: #262018; /* Dark 3D viewport */
    position: relative;
    overflow: hidden;
}

/* ── 4. SIDEBAR COMPONENTS ── */
.hero-text {
    font-family: 'Cormorant Garamond', serif;
    font-size: 28px; line-height: 1.2; font-weight: 600;
    margin-bottom: 8px;
}
.hero-text em { font-style: italic; color: var(--teal); }

.hero-sub {
    font-size: 13px; color: var(--ink3); line-height: 1.6;
    font-weight: 300; margin-bottom: 24px;
}

.section-label {
    font-size: 10px; font-weight: 500; letter-spacing: 0.12em;
    text-transform: uppercase; color: var(--ink3);
    margin: 30px 0 15px;
    display: flex; align-items: center; gap: 8px;
}
.section-label::after { content: ''; flex: 1; height: 1px; background: var(--bg3); }

/* Inputs & Sliders */
.dim-row { margin-bottom: 18px; }
.dim-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 8px; }
.dim-label { font-size: 12px; color: var(--ink2); }
.dim-value { font-family: 'Cormorant Garamond', serif; font-size: 17px; font-weight: 600; }
.dim-unit { font-size: 11px; color: var(--ink3); margin-left: 2px; }

input[type=range] {
    width: 100%; height: 4px; accent-color: var(--teal); cursor: pointer;
}

/* AI Prompt */
.ai-box { display: flex; flex-direction: column; gap: 10px; }
#ai-prompt {
    width: 100%; height: 80px; padding: 12px;
    background: var(--bg2); border: 1px solid var(--bg3);
    border-radius: 8px; font-family: inherit; font-size: 13px;
    resize: none; outline: none; transition: all 0.2s ease;
}
#ai-prompt:focus, #ai-prompt.auto-fill { 
    border-color: var(--teal); 
    background: var(--white); 
    box-shadow: 0 0 0 3px rgba(31, 96, 96, 0.1);
}

#ai-generate-btn {
    background: var(--teal); color: #fff; border: none;
    padding: 12px; border-radius: 8px; font-weight: 500;
    cursor: pointer; transition: background 0.2s;
}
#ai-generate-btn:hover { background: #165050; }

/* Room Grid */
.room-types { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.room-type-btn {
    padding: 14px 8px; background: var(--bg2); border: 1.5px solid var(--bg3);
    border-radius: 10px; display: flex; flex-direction: column; 
    align-items: center; gap: 6px; cursor: pointer; transition: all 0.18s;
}
.room-type-btn:hover, .room-type-btn.active { border-color: var(--teal); background: var(--teal-lt); }
.room-type-btn.active { box-shadow: 0 0 0 3px rgba(31, 96, 96, 0.08); }
.room-type-btn.active svg { stroke: var(--teal); }
.room-type-btn.active span { color: var(--teal); font-weight: 500; }
.room-type-btn svg { width: 22px; height: 22px; stroke: var(--ink3); fill: none; }
.room-type-btn span { font-size: 11px; color: var(--ink3); }

/* ── 5. FLOATING PROPERTIES PANEL (Animated) ── */
#props-panel {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 260px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    border: 1px solid var(--bg3);
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    z-index: 100;

    /* Hidden State */
    opacity: 0;
    transform: translateX(40px);
    pointer-events: none;
    
    /* Animation: transform uses the "weighted" bezier for architectural feel */
    transition: 
        transform 0.4s var(--ease-out-expo), 
        opacity 0.3s ease;
}

#props-panel.active {
    opacity: 1;
    transform: translateX(0);
    pointer-events: all;
}

#props-panel h3 { 
    font-family: 'Cormorant Garamond', serif; 
    font-size: 20px; 
    margin-bottom: 8px; 
    color: var(--ink);
}

#obj-name { 
    font-size: 11px; 
    color: var(--ink3); 
    margin-bottom: 20px; 
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.prop-group { margin-bottom: 15px; }
.prop-group label { 
    display: block; 
    font-size: 10px; 
    text-transform: uppercase; 
    color: var(--ink3); 
    margin-bottom: 6px;
    font-weight: 500;
}

#color-picker { 
    width: 100%; height: 32px; border: 1px solid var(--bg3); 
    border-radius: 6px; cursor: pointer; background: var(--white); 
}

#download-btn {
    position: absolute;
    bottom: 24px;
    right: 24px;
    z-index: 100;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 11px 18px;
    background: var(--teal);
    color: var(--white);
    border: none;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: opacity 0.2s;
}
#download-btn svg {
    width: 15px;
    height: 15px;
    flex-shrink: 0;
}
#download-btn:hover { opacity: 0.85; }

#del-btn {
    width: 100%; padding: 10px; margin-top: 10px;
    background: var(--white); border: 1px solid var(--bg3); 
    color: var(--red); border-radius: 8px; font-size: 11px; 
    font-weight: 600; cursor: pointer; transition: all 0.2s;
}
#del-btn:hover { background: #FFF5F5; border-color: #FADBD8; }
/* Internal staggered items */
.info-animate {
    opacity: 0;
    transform: translateY(15px);
    transition: 
        transform 0.5s var(--ease-out-expo), 
        opacity 0.4s ease;
}

.info-animate.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Ensure the link inside doesn't have an underline by default */
.info-animate a {
    text-decoration: none;
}